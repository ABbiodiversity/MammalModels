<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Estimating Density | Using remote camera trap images to estimate densities and develop habitat models for mammals in Alberta, Canada</title>
  <meta name="description" content="ABMI Camera Methods and Mammal Modeling" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Estimating Density | Using remote camera trap images to estimate densities and develop habitat models for mammals in Alberta, Canada" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="ABMI Camera Methods and Mammal Modeling" />
  <meta name="github-repo" content="ABbiodiversity/MammalModels" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Estimating Density | Using remote camera trap images to estimate densities and develop habitat models for mammals in Alberta, Canada" />
  
  <meta name="twitter:description" content="ABMI Camera Methods and Mammal Modeling" />
  

<meta name="author" content="Marcus Becker, Dr. David J. Huggard, Dr. David Roberts" />


<meta name="date" content="2024-01-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-collection.html"/>
<link rel="next" href="footnotes-and-citations.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/crosstalk-1.1.1.9000/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1.9000/js/crosstalk.min.js"></script>
<link href="libs/selectize-0.12.4/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.4/js/selectize.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-grid-3.4.1/bootstrap-grid.min.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.2/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.2/leaflet-providers-plugin.js"></script>
<link href="libs/lfx-fullscreen-1.0.2/lfx-fullscreen-prod.css" rel="stylesheet" />
<script src="libs/lfx-fullscreen-1.0.2/lfx-fullscreen-prod.js"></script>
<link href="libs/leaflet-easybutton-1.3.1/easy-button.css" rel="stylesheet" />
<script src="libs/leaflet-easybutton-1.3.1/easy-button.js"></script>
<script src="libs/leaflet-easybutton-1.3.1/EasyButton-binding.js"></script>
<link href="libs/ionicons-2.0.1/ionicons.min.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ABMI Mammal Models</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#acknowledgement"><i class="fa fa-check"></i><b>1.1</b> Acknowledgement</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#suggested-citation"><i class="fa fa-check"></i><b>1.2</b> Suggested Citation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#contact"><i class="fa fa-check"></i><b>1.3</b> Contact</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-collection.html"><a href="data-collection.html"><i class="fa fa-check"></i><b>2</b> Data Collection</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-collection.html"><a href="data-collection.html#abmi-use-of-remote-cameras"><i class="fa fa-check"></i><b>2.1</b> ABMI use of remote cameras</a></li>
<li class="chapter" data-level="2.2" data-path="data-collection.html"><a href="data-collection.html#camera-deployment-protocols"><i class="fa fa-check"></i><b>2.2</b> Camera deployment protocols</a></li>
<li class="chapter" data-level="2.3" data-path="data-collection.html"><a href="data-collection.html#list-of-abmi-camera-projects"><i class="fa fa-check"></i><b>2.3</b> List of ABMI camera projects</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-collection.html"><a href="data-collection.html#image-tagging"><i class="fa fa-check"></i><b>2.3.1</b> Image Tagging</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-collection.html"><a href="data-collection.html#species-detections"><i class="fa fa-check"></i><b>2.4</b> Species detections</a></li>
<li class="chapter" data-level="2.5" data-path="data-collection.html"><a href="data-collection.html#deployment-duration-lengths"><i class="fa fa-check"></i><b>2.5</b> Deployment duration lengths</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estimating-density.html"><a href="estimating-density.html"><i class="fa fa-check"></i><b>3</b> Estimating Density</a>
<ul>
<li class="chapter" data-level="3.1" data-path="estimating-density.html"><a href="estimating-density.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estimating-density.html"><a href="estimating-density.html#simple-explanation"><i class="fa fa-check"></i><b>3.1.1</b> Simple Explanation</a></li>
<li class="chapter" data-level="3.1.2" data-path="estimating-density.html"><a href="estimating-density.html#assumptions"><i class="fa fa-check"></i><b>3.1.2</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estimating-density.html"><a href="estimating-density.html#probabilistic-gaps"><i class="fa fa-check"></i><b>3.2</b> Probabilistic gaps</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>4</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>4.1</b> Footnotes</a></li>
<li class="chapter" data-level="4.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>4.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>5</b> Blocks</a>
<ul>
<li class="chapter" data-level="5.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>5.1</b> Equations</a></li>
<li class="chapter" data-level="5.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>5.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="5.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>5.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>6</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>6.1</b> Publishing</a></li>
<li class="chapter" data-level="6.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>6.2</b> 404 pages</a></li>
<li class="chapter" data-level="6.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>6.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using remote camera trap images to estimate densities and develop habitat models for mammals in Alberta, Canada</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="estimating-density" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Estimating Density<a href="estimating-density.html#estimating-density" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter describes how the Time In Front of Camera (TIFC) method is used to calculate animal density using images collected from remote cameras.</p>
<p>This method is also documented in <a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecs2.4005">Becker et al (2022)</a>.</p>
<div id="overview" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Overview<a href="estimating-density.html#overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="simple-explanation" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Simple Explanation<a href="estimating-density.html#simple-explanation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Density is the number of objects (trees, animals, etc.) per unit area. If a 100-m<span class="math inline">\(^2\)</span> plot contains one tree, the density is 1 tree/100-m<span class="math inline">\(^2\)</span>, or 10,000 trees per km<span class="math inline">\(^2\)</span> ( Figure <a href="#fig:density"><strong>??</strong></a>). Similarly, if a camera has a field-of-view of 100-m<span class="math inline">\(^2\)</span> and there is always one animal in the field-of-view for the whole time that the camera is operating, the density of that species is 1 animal per 100-m<span class="math inline">\(^2\)</span>, or 10,000 animals per km<span class="math inline">\(^2\)</span>. It doesn’t matter if the animal is moving around within the field-of-view, as long as it stays in the field-of-view for the whole time. On the other hand, if that camera only has an animal in the field-of-view 1/10,000 of the time that it is operating, there is 1/10,000 animal per 100-m<span class="math inline">\(^2\)</span>, or 1 animal per km-<span class="math inline">\(^2\)</span>. If the camera has two animals together for 1/10,000 of the time, this gives 2/10,000 animals per 100-m<span class="math inline">\(^2\)</span>, or 2 animals per km-<span class="math inline">\(^2\)</span>. This is how we use cameras to calculate density.</p>
<p>For a given density of animals, this simple measure is independent of home range sizes or movement rates. If home ranges were twice as big, they would have to overlap twice as much to maintain the same density. Therefore, an individual would be in a particular camera’s field-of-view half as often (because its home range is bigger – it has more other places to be), but there would be twice as many individuals at that camera. If movement rates were twice as fast, an individual would pass by the camera twice as often, but would spend half as much time in the field-of-view (because it is moving faster). For the simple example above, there would be two visits to the camera each occupying 1/20,000 of the time the camera is operating, rather than one visit for 1/10,000 of the time. The other way of putting this is that only the total animal-time in the field-of-view matters, whether that comes from one long visit by one individual, several short visits by one individual, or several short visits each by a different individual. In all those cases, the density is the same; it is only the home range size and overlap and/or movement rates that are changing.</p>
<p>Two features of cameras require us to do some additional data processing to use this simple density measure:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Cameras do not survey fixed areas, unlike quadrats</strong>. The probability of an animal triggering the camera decreases with distance. We therefore have to estimate an <em>effective detection distance</em> (EDD) for the cameras, as is done for unlimited-distance point counts for birds or unlimited distance transect surveys. This effective distance can vary for different species, habitat types and time of year.</p></li>
<li><p><strong>Cameras take a series of images at discrete intervals, rather than providing a continuous record of how long an animal is in the field-of-view</strong>. The discrete intervals need to be converted to a continuous measure to show how long the animal was in the field-of-view, accounting for the possibility that a moderately long interval between images might be from an animal present but not moving much, and therefore not triggering the camera, versus an animal that left the field-of-view and returned.</p></li>
</ol>
</div>
<div id="assumptions" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Assumptions<a href="estimating-density.html#assumptions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a number of strong assumptions involved in using this measure to estimate density of a species. A couple big assumptions are:</p>
<ul>
<li><p>The cameras are a random or otherwise representative sample of the area. The density estimate applies to the field-of-view of the cameras. To make inferences about a larger region, the cameras need to be surveying a random or representative (e.g., systematic, systematic-random, random stratified) sample of the larger region. In particular, if cameras are intentionally placed in areas where species are more common, such as game trails, then the density estimate only applies to those places, not to a larger region.</p></li>
<li><p>Animals are not attracted to or repelled by the cameras (or posts used to deploy the cameras, etc). That also means that they do not spend more or less time in front of the camera because of the presence of the camera. The effect of lures or other attractants needs to be explicitly measured and accounted for.</p></li>
</ul>
<p>There are additional assumptions involved in the procedures to estimate effective detection distance, including an assumption that all animals within a certain distance of the camera are detected, and in converting the discrete images into time in field-of-view. These assumptions are discussed below. Because the world is complicated, assumptions are never met perfectly. The important thing is to consider – and, ideally, design auxiliary tests to measure – is whether the violations are serious enough to impact the answer to whatever question(s) the cameras are being used to answer. In many cases, absolute density estimates may not be accurate, but the results can still serve as a useable index of relative density, if assumptions are violated about equally in whatever units are being compared (habitat types, experimental treatments, years for long-term trend, etc).</p>
<p>A final consideration is the sampling distribution of density estimates. Because individual cameras sample tiny areas compared to the home ranges of the species they survey, the resulting sampling distribution can be horrendous – the majority of cameras never detect the species at all (density = 0), a few cameras record the species passing by once or twice for brief periods (low densities), and a very few number of cameras record long durations as the animals forage, rest, or play in front of the camera, or revisit a favourite spot repeatedly (very high densities). Longer duration camera deployments can help smooth out some of that extreme variation, but ultimately large numbers of cameras are required for precise estimates. Appropriate questions, rigorous study designs, and modest expectations are required for camera-based studies.</p>
</div>
</div>
<div id="probabilistic-gaps" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Probabilistic gaps<a href="estimating-density.html#probabilistic-gaps" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>From a pilot study, we determined that if there is a gap of less than 20 seconds between images of the same species at a camera, the animal is almost always still in the view (no evidence of it walking out and returning). Missing the odd time when it leaves the view for less than 20 seconds has little effect on estimates of the total time it is in the field-of-view. At the other end, if there is a gap of &gt;120 seconds between images of the same species, this almost always represented animals leaving and then returning (i.e., the animal is seen walking out of the field-of-view, then walking back in). Gaps of 20-120 seconds are uncertain. These relatively long periods when the animal could be in the field-of-view or not are important when estimating the total duration animals are in the field-of-view, and thus density.</p>
<p>Using images from the 2015 ABMI Ecosystem Health project, we checked each 20-120 second gap in series’ of native mammals for evidence of the animal leaving and returning. We supplemented the 2015 data for less common species using data from 2016 and 2017. We looked at several images on either side of gaps of 20-120 seconds. In each sequence, the animal was designated as having left the field-of-view during the 20-120 second gap if there was clear evidence of it walking out of the field-of-view and then returning (or a different individual entering the field-of-view). If the animal stayed in one location within the field-of-view, or sequential images showed the animal in disconnected places (as often happens with smaller animals), the animal was assumed to have stayed.</p>
<p>Through this tagging procedure, we obtained the following training data to estimate the probability of an animal leaving during a gaps between 20 and 120 seconds between images. The <code>diff_time</code> variable refers to the number of seconds between images and the <code>left</code> variable refers to whether or not the individual left the camera field-of-view and returned (‘Yes’) or showed in the field-of-view for the duration of the gap (‘No’).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="estimating-density.html#cb1-1" tabindex="-1"></a><span class="fu">head</span>(raw_gap_data, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 3
##    species_common_name diff_time left 
##    &lt;fct&gt;                   &lt;dbl&gt; &lt;chr&gt;
##  1 Snowshoe Hare              43 Yes  
##  2 Canada Lynx                31 No   
##  3 Canada Lynx                63 No   
##  4 Canada Lynx                22 No   
##  5 Canada Lynx                22 Yes  
##  6 Moose                      29 No   
##  7 Moose                      21 No   
##  8 Moose                      36 No   
##  9 Snowshoe Hare              23 No   
## 10 Canada Lynx                73 Yes</code></pre>
<p>Using White-tailed Deer as an example, we can visualize this data in Figure <a href="estimating-density.html#fig:wtd">3.1</a>. In general, observations where the animal stayed in the field of view are more closely clustered around the 20 second mark, and observations where the animal left the field of view are more evenly spread across the range of gap lengths.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="estimating-density.html#cb3-1" tabindex="-1"></a><span class="co"># Plot of checked gaps for wtd</span></span>
<span id="cb3-2"><a href="estimating-density.html#cb3-2" tabindex="-1"></a>raw_gap_data <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="estimating-density.html#cb3-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">left =</span> <span class="fu">as.factor</span>(left)) <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="estimating-density.html#cb3-4" tabindex="-1"></a>  <span class="fu">filter</span>(species_common_name <span class="sc">==</span> <span class="st">&quot;White-tailed Deer&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="estimating-density.html#cb3-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> diff_time, <span class="at">y =</span> left, <span class="at">color =</span> left)) <span class="sc">+</span></span>
<span id="cb3-6"><a href="estimating-density.html#cb3-6" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">height =</span> <span class="fl">0.15</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb3-7"><a href="estimating-density.html#cb3-7" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;orange&quot;</span>, <span class="st">&quot;darkgreen&quot;</span>)) <span class="sc">+</span></span>
<span id="cb3-8"><a href="estimating-density.html#cb3-8" tabindex="-1"></a>  <span class="fu">theme_abmi</span>() <span class="sc">+</span> <span class="co"># Custom ABMI theme</span></span>
<span id="cb3-9"><a href="estimating-density.html#cb3-9" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stayed&quot;</span>, <span class="st">&quot;Left&quot;</span>)) <span class="sc">+</span></span>
<span id="cb3-10"><a href="estimating-density.html#cb3-10" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">120</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">120</span>)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="estimating-density.html#cb3-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb3-12"><a href="estimating-density.html#cb3-12" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Length of gap between images (seconds)&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="estimating-density.html#cb3-13" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb3-14"><a href="estimating-density.html#cb3-14" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb3-15"><a href="estimating-density.html#cb3-15" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: left"><span style="display:block;" id="fig:wtd"></span>
<img src="_main_files/figure-html/wtd-1.png" alt="White-tailed Deer." width="672" />
<p class="caption">
Figure 3.1: White-tailed Deer.
</p>
</div>
<p>We used this data to develop models of the probability of a species leaving the field-of-view during a 20-120 second gap as a function of the gap duration. Smoothing splines were fit to the probability of leaving as a function of gap length, using a logit-linked binomial model.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="estimating-density.html#cb4-1" tabindex="-1"></a><span class="co"># Develop model for each species, then make predictions for each second along the 20-120 second span</span></span>
<span id="cb4-2"><a href="estimating-density.html#cb4-2" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> raw_gap_data <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="estimating-density.html#cb4-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">left =</span> <span class="fu">ifelse</span>(left <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="estimating-density.html#cb4-4" tabindex="-1"></a>  <span class="fu">group_by</span>(species_common_name) <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="estimating-density.html#cb4-5" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="estimating-density.html#cb4-6" tabindex="-1"></a>  <span class="co"># Models and predictions</span></span>
<span id="cb4-7"><a href="estimating-density.html#cb4-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">map</span>(<span class="at">.x =</span> data, <span class="sc">~</span> <span class="fu">smooth.spline</span>(<span class="at">x =</span> .<span class="sc">$</span>diff_time, <span class="at">y =</span> .<span class="sc">$</span>left, <span class="at">df =</span> <span class="dv">3</span>)),</span>
<span id="cb4-8"><a href="estimating-density.html#cb4-8" tabindex="-1"></a>         <span class="at">pred =</span> <span class="fu">map</span>(<span class="at">.x =</span> model, <span class="sc">~</span> <span class="fu">predict</span>(., <span class="at">x =</span> <span class="dv">20</span><span class="sc">:</span><span class="dv">120</span>))) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="estimating-density.html#cb4-9" tabindex="-1"></a>  <span class="fu">select</span>(species_common_name, pred) <span class="sc">|&gt;</span></span>
<span id="cb4-10"><a href="estimating-density.html#cb4-10" tabindex="-1"></a>  <span class="fu">unnest_wider</span>(pred) <span class="sc">|&gt;</span></span>
<span id="cb4-11"><a href="estimating-density.html#cb4-11" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(x, y)) <span class="sc">|&gt;</span></span>
<span id="cb4-12"><a href="estimating-density.html#cb4-12" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">diff_time =</span> x, <span class="at">pred =</span> y) <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="estimating-density.html#cb4-13" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<p>We can plot the model predictions for each value between the 20-120 second interval as follows (Figure <a href="estimating-density.html#fig:wtdpred">3.2</a>).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="estimating-density.html#cb5-1" tabindex="-1"></a><span class="co"># Plot results for white-tailed deer</span></span>
<span id="cb5-2"><a href="estimating-density.html#cb5-2" tabindex="-1"></a>wtd <span class="ot">&lt;-</span> predictions <span class="sc">|&gt;</span> <span class="fu">filter</span>(species_common_name <span class="sc">==</span> <span class="st">&quot;White-tailed Deer&quot;</span>)</span>
<span id="cb5-3"><a href="estimating-density.html#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="estimating-density.html#cb5-4" tabindex="-1"></a>raw_gap_data <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href="estimating-density.html#cb5-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">left =</span> <span class="fu">ifelse</span>(left <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="estimating-density.html#cb5-6" tabindex="-1"></a>  <span class="fu">filter</span>(species_common_name <span class="sc">==</span> <span class="st">&quot;White-tailed Deer&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="estimating-density.html#cb5-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> diff_time, <span class="at">y =</span> left, <span class="at">color =</span> left)) <span class="sc">+</span></span>
<span id="cb5-8"><a href="estimating-density.html#cb5-8" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">height =</span> <span class="fl">0.05</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb5-9"><a href="estimating-density.html#cb5-9" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&quot;orange&quot;</span>, <span class="at">high =</span> <span class="st">&quot;darkgreen&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="estimating-density.html#cb5-10" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> wtd, <span class="fu">aes</span>(<span class="at">x =</span> diff_time, <span class="at">y =</span> pred), <span class="at">color =</span> <span class="st">&quot;grey40&quot;</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="estimating-density.html#cb5-11" tabindex="-1"></a>  <span class="fu">theme_abmi</span>() <span class="sc">+</span> <span class="co"># Custom ABMI theme</span></span>
<span id="cb5-12"><a href="estimating-density.html#cb5-12" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stayed&quot;</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="st">&quot;Left&quot;</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>)) <span class="sc">+</span></span>
<span id="cb5-13"><a href="estimating-density.html#cb5-13" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">120</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">120</span>)) <span class="sc">+</span></span>
<span id="cb5-14"><a href="estimating-density.html#cb5-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Probability of leaving field-of-view&quot;</span>,</span>
<span id="cb5-15"><a href="estimating-density.html#cb5-15" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Length of gap between images (seconds)&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-16"><a href="estimating-density.html#cb5-16" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb5-17"><a href="estimating-density.html#cb5-17" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb5-18"><a href="estimating-density.html#cb5-18" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb5-19"><a href="estimating-density.html#cb5-19" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb5-20"><a href="estimating-density.html#cb5-20" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">11</span>, <span class="dv">11</span>, <span class="dv">11</span>, <span class="dv">11</span>, <span class="dv">13</span>),</span>
<span id="cb5-21"><a href="estimating-density.html#cb5-21" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="fu">c</span>(<span class="st">&quot;bold&quot;</span>, <span class="st">&quot;plain&quot;</span>, <span class="st">&quot;plain&quot;</span>, <span class="st">&quot;plain&quot;</span>, <span class="st">&quot;plain&quot;</span>, <span class="st">&quot;bold&quot;</span>)))</span></code></pre></div>
<div class="figure" style="text-align: left"><span style="display:block;" id="fig:wtdpred"></span>
<img src="_main_files/figure-html/wtdpred-1.png" alt="Probability of leaving the field-of-view based on gap length between subsequent images for white-tailed deer." width="672" />
<p class="caption">
Figure 3.2: Probability of leaving the field-of-view based on gap length between subsequent images for white-tailed deer.
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-collection.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="footnotes-and-citations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ABbiodiversity/MammalModels/tree/main/bookdown03_Estimating-Density.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
